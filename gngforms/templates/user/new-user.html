{% extends "base.html" %}
{% block content %}


{% if not created %}
<div class="container">
<div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-5">
    
    <div class="title_1 delimited">{%trans%}New user{%endtrans%}</div>
    
    <form method="POST">
        {{ wtform.csrf_token }}
        <p>
            {{ wtform.username.label }} <span class='required'>●</span><br />
            {{ wtform.username(class_="form-control", placeholder=_('Letters and numbers. No accents.')) }}
            {% for error in wtform.username.errors %}
                <span class="formError">{{ error }}</span><br />
            {% endfor %}
        </p>
        <p>
            {{ wtform.email.label }} <span class='required'>●</span><br />
            <span class="hint"></span>
            {{ wtform.email(class_="form-control") }}
            {% for error in wtform.email.errors %}
                <span class="formError">{{ error }}</span><br />
            {% endfor %}
        </p>
        <p>
            {{ wtform.password.label }} <span class='required'>●</span><br />
            <span class="hint">{%trans%}Use a passphrase, with spaces{%endtrans%}</span>
            {{ wtform.password(class_="form-control", placeholder=_('eg: No holidays this year')) }}
            {% for error in wtform.password.errors %}
                <span class="formError">{{ error }}</span><br />
            {% endfor %}
        </p>
        <p>
            {{ wtform.password2.label }} <span class='required'>●</span><br />
            {{ wtform.password2(class_="form-control", placeholder=_('Another eg: My dog has fleas')) }}
            {% for error in wtform.password2.errors %}
                <span class="formError">{{ error }}</span><br />
            {% endfor %}
        </p>
        {% if g.site.termsAndConditions["enabled"] and g.site.termsAndConditionsHTML %}
        <div style="margin-top:2.5em">
            <div class="title_2 delimited">{%trans%}Terms and conditions{%endtrans%}</div>
            {{ g.site.termsAndConditionsHTML|safe }}
            <div>
                <input id="termsAndConditions" name="termsAndConditions" type="checkbox" value="1" required />
                &nbsp;
                <span for="termsAndConditions" class="radio-inline">{{ wtform.termsAndConditions.label }}</span>
                <span class='required'>●</span><br />
                {% for error in wtform.termsAndConditions.errors %}
                    <span class="formError">{{ error }}</span><br />
                {% endfor %}
            </div>
        </div>
        {% endif %}
    
        <div class="form-actions">
        <input class="btn-success btn" type="submit" value="{%trans%}Submit{%endtrans%}">
        <a class="btn btn-primary" role="button" href="/">{%trans%}Cancel{%endtrans%}</a>
        </div>
    </form>
    
    </div>

</div>
</div>
{% else %}
<div class="container">
    <div class="row">
        <div class="col-md-12 text-center">
            <h1 style="margin-top:1em">{%trans%}We sent you an email!{%endtrans%}</h1>
        </div>
    </div>
</div>
{% endif %}

{% endblock %}
