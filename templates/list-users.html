{% extends "base.html" %}
{% block content %}

<script src="/static/node_modules/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="/static/node_modules/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="/static/node_modules/datatables.net-bs/css/dataTables.bootstrap.min.css">

<div class="container">

    <div style="font-size:1.5em">All users</div>
    <hr />

<table id="users" class="table table-striped table-condensed">
<thead>
    <tr>
        <th>username</th>
        
        {% if g.current_user.isRootUser() %}
            <th>hostname</th>
        {% endif %}
        
        <th>created</th>
        <th>email</th>
        <th>forms</th>
        <th>Can publish</th>
        <th>Is admin</th>
    </tr>
</thead>
{% for u in users %}
<tr>
   <td><a href="/admin/users/{{u.username}}">{{u.username}}</a></td>
   
   {% if g.current_user.isRootUser() %}
    <td>{{u.hostname}}</td>
   {% endif %}
   
   <td>{{u.created}}</td>
   <td>{{u.email}}</td>
   <td>{{userFormCount[u.username]}}</td>
   <td>{{u.enabled}}</td>
   <td>{{u.admin}}</td>
</tr>
{% endfor %}
</table>

</div>

<script>
$(document).ready(function() {
    $('#users').DataTable();
} );
</script>
  
{% endblock %}
